#!/bin/bash
echo "EXIT FUNCTION CALLED"
function pause(){
	   read -p "$*"
   }

# -------- Global Script Variables --------- 

learning_working_directory="$WINHOME/dev/learning"

# --------- Script Functions --------- 

function timestamppush()
{
	# Regular Git Push Routine
	git -C "${1}" add . 
	# DateTime Stamped Commit
	commit_message="Sessions End $(date)"
	# Commit mnad Push
	git -C "${1}" commit -m "${commit_message}" -q
	git -C "${1}" push -q origin master
}
	
# ---------  Business Logic Begins Here --------- 
:w



q
if [ -z "${TMUX}" ]; # && [ $SHLVL < 2 ];
then
    timestamppush ${learning_working_directory}
    ~/.dotfiles/dfsync.sh -m end
    pause "...Exit tasks are complete, please press any key to leave shell"
fi
